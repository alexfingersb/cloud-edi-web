-- Generated by Oracle SQL Developer Data Modeler 4.0.3.853
--   at:        2015-08-19 16:01:57 BRT
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g




CREATE
  TABLE AGENT_DOWNLOAD
  (
    ID           NUMBER ,
    HOST_ADDRESS VARCHAR2 (30) ,
    USER_ID      NUMBER NOT NULL
  ) ;

CREATE
  TABLE MESSAGE_LOG
  (
    ID            NUMBER NOT NULL ,
    FILE_NAME     VARCHAR2 (300) ,
    FILE_LENGTH   NUMBER ,
    FILE_DATE     TIMESTAMP ,
    SENT_DATE     TIMESTAMP ,
    RECEIVED_DATE TIMESTAMP ,
    ROUTE_TO_ID   NUMBER NOT NULL ,
    ROUTE_FROM_ID NUMBER NOT NULL
  ) ;
ALTER TABLE MESSAGE_LOG ADD CONSTRAINT MESSAGE_LOG_PK PRIMARY KEY ( ID ) ;

CREATE
  TABLE ROUTE
  (
    ID          NUMBER NOT NULL ,
    DESCRIPTION VARCHAR2 (100) NOT NULL
  ) ;
ALTER TABLE ROUTE ADD CONSTRAINT ROUTE_PK PRIMARY KEY ( ID ) ;

CREATE
  TABLE ROUTE_FROM
  (
    ID           NUMBER NOT NULL ,
    "FROM"       NUMBER ,
    ROUTE_ID     NUMBER NOT NULL ,
    ROUTE_URI_ID NUMBER NOT NULL
  ) ;
ALTER TABLE ROUTE_FROM ADD CONSTRAINT ROUTE_FROM_PK PRIMARY KEY ( ID ) ;

CREATE
  TABLE ROUTE_TO
  (
    ID           NUMBER NOT NULL ,
    CHOICE_WHEN  VARCHAR2 (100) ,
    ROUTE_ID     NUMBER NOT NULL ,
    ROUTE_URI_ID NUMBER NOT NULL
  ) ;
ALTER TABLE ROUTE_TO ADD CONSTRAINT ROUTE_TO_PK PRIMARY KEY ( ID ) ;

CREATE
  TABLE ROUTE_URI
  (
    ID           NUMBER NOT NULL ,
    SCHEME       VARCHAR2 (10) NOT NULL ,
    CONTEXT_PATH VARCHAR2 (300) ,
    OPTIONS      VARCHAR2 (300)
  ) ;
ALTER TABLE ROUTE_URI ADD CONSTRAINT ROUTE_URI_PK PRIMARY KEY ( ID ) ;

CREATE
  TABLE "USER"
  (
    ID       NUMBER NOT NULL ,
    NAME     VARCHAR2 (200) ,
    USERNAME VARCHAR2 (30) NOT NULL ,
    PASSWORD VARCHAR2 (100) NOT NULL ,
    EMAIL    VARCHAR2 (100) ,
    --  1 is active
    --  0 is inactive
    STATUS CHAR (1 BYTE) ,
    --  User or Administrator
    PROFILE VARCHAR2 (50)
  ) ;
ALTER TABLE "USER" ADD CONSTRAINT USER_PK PRIMARY KEY ( ID ) ;

CREATE
  TABLE USER_ROUTE
  (
    ID       NUMBER NOT NULL ,
    ROUTE_ID NUMBER NOT NULL ,
    USER_ID  NUMBER NOT NULL
  ) ;
ALTER TABLE USER_ROUTE ADD CONSTRAINT USER_ROUTE_PK PRIMARY KEY ( ID ) ;

ALTER TABLE AGENT_DOWNLOAD ADD CONSTRAINT AGENT_DOWNLOAD_USER_FK FOREIGN KEY (
USER_ID ) REFERENCES "USER" ( ID ) ;

ALTER TABLE MESSAGE_LOG ADD CONSTRAINT MESSAGE_LOG_ROUTE_FROM_FK FOREIGN KEY (
ROUTE_FROM_ID ) REFERENCES ROUTE_FROM ( ID ) ;

ALTER TABLE MESSAGE_LOG ADD CONSTRAINT MESSAGE_LOG_ROUTE_TO_FK FOREIGN KEY (
ROUTE_TO_ID ) REFERENCES ROUTE_TO ( ID ) ;

ALTER TABLE ROUTE_FROM ADD CONSTRAINT ROUTE_FROM_ROUTE_FK FOREIGN KEY (
ROUTE_ID ) REFERENCES ROUTE ( ID ) ;

ALTER TABLE ROUTE_FROM ADD CONSTRAINT ROUTE_FROM_ROUTE_URI_FK FOREIGN KEY (
ROUTE_URI_ID ) REFERENCES ROUTE_URI ( ID ) ;

ALTER TABLE ROUTE_TO ADD CONSTRAINT ROUTE_TO_ROUTE_FK FOREIGN KEY ( ROUTE_ID )
REFERENCES ROUTE ( ID ) ;

ALTER TABLE ROUTE_TO ADD CONSTRAINT ROUTE_TO_ROUTE_URI_FK FOREIGN KEY (
ROUTE_URI_ID ) REFERENCES ROUTE_URI ( ID ) ;

ALTER TABLE USER_ROUTE ADD CONSTRAINT USER_ROUTE_ROUTE_FK FOREIGN KEY (
ROUTE_ID ) REFERENCES ROUTE ( ID ) ;

ALTER TABLE USER_ROUTE ADD CONSTRAINT USER_ROUTE_USER_FK FOREIGN KEY ( USER_ID
) REFERENCES "USER" ( ID ) ;


-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             8
-- CREATE INDEX                             0
-- ALTER TABLE                             16
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
